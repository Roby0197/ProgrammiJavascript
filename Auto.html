<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
img {
    display: none;
}

    </style>
<script>

let prezzo = 0;
function rate() {
    remove();
    
    let numrate = document.getElementById("rate").value;
    let capital = prezzo; // Importo del prestito in euro
    let annualInterestRate = 3; // Tasso di interesse annuo in percentuale
    let loanTermMonths = numrate; // Durata del prestito in mesi
    // Converti il tasso di interesse annuo in tasso di interesse mensile
    let monthlyInterestRate = (annualInterestRate / 100) / 12;
   
    // Calcola la rata mensile utilizzando la formula
    let emi = capital * monthlyInterestRate * Math.pow((1 + monthlyInterestRate), loanTermMonths) / (Math.pow((1 + monthlyInterestRate), loanTermMonths) - 1);
  
    let rata = Math.round(emi);
    let total = rata * numrate;
    let nuovoNodo=document.createElement("h3");
    nuovoNodo.textContent= "la rata mensile è: " + rata + " euro";
    let nodo = document.getElementById("result");
    nodo.appendChild(nuovoNodo);
    let nuovoNodo2=document.createElement("h3");
    nuovoNodo2.textContent= "il valore totale della macchina è: " + total;
    nodo.appendChild(nuovoNodo2);
    




}
function scegli(){

let auto = document.getElementById("auto").value;
let categ = document.getElementById("categ").value;
 prezzo = 0;
if (auto == "sandero"){
    prezzo = 10000;
}
if (auto == "mokka"){
    prezzo = 15000;
}
if (auto == "panda"){
    prezzo = 5000;
}
if (auto == "500"){
    prezzo = 20000;
}

if (categ == "nuova") {
    
}
if (categ == "usata") {
    prezzo = prezzo - (prezzo * 35 / 100);
}
if (categ == "usataG") {
    prezzo = prezzo - (prezzo * 25 / 100);
}
if (categ == "km0") {
    prezzo = prezzo - (prezzo * 10 / 100);
}



    
    if (auto == "sandero"){
        document.getElementById("sandero").style.display = "block";
        document.getElementById("mokka").style.display = "none";
        document.getElementById("panda").style.display = "none";
        document.getElementById("500").style.display = "none";

        let nodo = document.getElementById("result");
        nodo.textContent = "Il prezzo della macchina è " + prezzo;
    }
    else if (auto == "mokka"){
        document.getElementById("mokka").style.display = "block";
        document.getElementById("sandero").style.display = "none";
        document.getElementById("panda").style.display = "none";
        document.getElementById("500").style.display = "none";
        let nodo = document.getElementById("result");
        nodo.textContent = "Il prezzo della macchina è " + prezzo;
    }
    else if (auto == "panda"){
        document.getElementById("sandero").style.display = "none";
        document.getElementById("500").style.display = "none";
        document.getElementById("panda").style.display = "block";
        document.getElementById("mokka").style.display = "none";
        let nodo = document.getElementById("result");
        nodo.textContent = "Il prezzo della macchina è " + prezzo;
    }
    else if (auto == "500"){
        document.getElementById("sandero").style.display = "none";
        document.getElementById("mokka").style.display = "none";
        document.getElementById("500").style.display = "block";
        document.getElementById("panda").style.display = "none";
        let nodo = document.getElementById("result");
        nodo.textContent = "Il prezzo della macchina è " + prezzo;
    }

}

</script>
</head>
<body>
    <h1>Concessionaria auto</h1>
    <h3>Scegli la tua macchina e scoprine il prezzo</h3>
    <select  id="auto">
   <option value = "sandero">sandero</option>
   <option value = "mokka">mokka</option>
   <option value = "panda">panda</option>
   <option value = "500">500</option>
   
</select><br><br>
<h3>Scegli la tipologia</h3>
<select  id="categ">
    <option value = "nuova">nuova</option>
    <option value = "usata">usata</option>
    <option value = "usataG">usata garantita</option>
    <option value = "km0">km0</option>

</select><br><br>
    <button onclick="scegli()">Scegli</button>
<hr>
<hr>
    <div id = "result"></div>

    <img src="https://i.postimg.cc/yN9Fj55g/download-3.jpg" id = "sandero">
    <img src="https://i.postimg.cc/YCT61kXB/download-2.jpg" id = "mokka">
    <img src="https://i.postimg.cc/L6CB8jLX/download.jpg" id = "panda">
    <img src="https://i.postimg.cc/kG7FBcTV/download-1.jpg" id = "500">

    <input type="number" id="rate">rate
    <button onclick="rate ()">Paga in rate</button>

    </body>
</html>